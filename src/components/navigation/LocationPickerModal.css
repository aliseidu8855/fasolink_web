/* Enhanced Location Picker Modal */
.modal-content.location-picker-modal {
  width: min(760px, 90%);
  max-height: 72vh;
  padding: 0.85rem 0.9rem 0.9rem;
  border-radius: 1rem;
  display:flex;
  flex-direction:column;
}

.lpm-shell { display:flex; flex-direction:column; gap:0.75rem; flex:1; min-height:0; }
.lpm-header {
  display: flex;
  align-items: center;
  gap: 1rem;
}
.lpm-header h3 { margin: 0; font-size: var(--font-size-sm); font-weight: 700; letter-spacing: -0.4px; }
.lpm-search {
  flex: 1;
  position: relative;
}
.lpm-search input { width:100%; padding:0.5rem 0.65rem 0.5rem 2rem; border:1px solid rgba(0,0,0,0.15); border-radius:0.6rem; font-size:var(--font-size-xs); background:#fff; }
.lpm-search input:focus {
  outline: 2px solid var(--brand-teal);
  outline-offset: 2px;
}
.lpm-search:before {
  content: "üîç";
  position: absolute;
  top: 50%;
  left: 0.75rem;
  transform: translateY(-50%);
  font-size: 14px;
  opacity: 0.55;
}

.lpm-body { display:grid; grid-template-columns:260px 1fr; gap:0.75rem; min-height:0; flex:1; overflow:hidden; }
.lpm-regions-col {
  display: flex;
  flex-direction: column;
  background: rgba(0, 0, 0, 0.035);
  border: 1px solid rgba(0, 0, 0, 0.08);
  border-radius: 0.85rem;
  overflow: hidden;
}
.lpm-regions-scroll { overflow:auto; padding:0.35rem 0.45rem 0.8rem; display:flex; flex-direction:column; gap:0.3rem; }
.lpm-alpha-group {
  display: flex;
  flex-direction: column;
  gap: 0.3rem;
}
.lpm-alpha-label {
  font-size: 10px;
  font-weight: 600;
  opacity: 0.5;
  padding: 0.15rem 0.25rem;
}
.lpm-region { text-align:left; background:#fff; border:1px solid rgba(0,0,0,0.08); padding:0.45rem 0.55rem; border-radius:0.55rem; cursor:pointer; display:flex; flex-direction:column; gap:2px; position:relative; font-size:var(--font-size-xs); }
.lpm-region:hover {
  background: rgba(var(--brand-teal-rgb), 0.1);
  border-color: rgba(var(--brand-teal-rgb), 0.45);
}
.lpm-region.active {
  background: rgba(var(--brand-peach-rgb), 0.25);
  border-color: rgba(var(--brand-peach-rgb), 0.55);
}
.lpm-region .cap {
  font-size: 10px;
  opacity: 0.6;
}
.lpm-region .arrow {
  position: absolute;
  right: 8px;
  top: 50%;
  transform: translateY(-50%);
  font-size: 12px;
  opacity: 0.4;
}

.lpm-towns-col { display:flex; flex-direction:column; background:rgba(0,0,0,0.02); border:1px solid rgba(0,0,0,0.07); border-radius:0.75rem; padding:0.45rem 0.5rem; gap:0.45rem; }
.lpm-towns-header {
  display: flex;
  align-items: center;
  justify-content: space-between;
}
.lpm-towns-header h4 {
  margin: 0;
  font-size: var(--font-size-sm);
  font-weight: 600;
}
.lpm-towns-header .region-pill {
  background: rgba(var(--brand-peach-rgb), 0.35);
  border: 1px solid rgba(var(--brand-peach-rgb), 0.55);
  font-size: 10px;
  font-weight: 600;
  padding: 0.25rem 0.45rem;
  border-radius: 1rem;
}
.lpm-towns-scroll { flex:1; overflow:auto; display:grid; grid-template-columns:repeat(auto-fill,minmax(110px,1fr)); gap:0.4rem; padding-bottom:0.6rem; }
.lpm-town { background:#fff; border:1px solid rgba(0,0,0,0.08); padding:0.45rem 0.5rem; border-radius:0.5rem; font-size:var(--font-size-xs); cursor:pointer; font-weight:500; text-align:left; }
.lpm-town:hover {
  background: rgba(var(--brand-teal-rgb), 0.1);
  border-color: rgba(var(--brand-teal-rgb), 0.45);
}
.lpm-town.active {
  background: rgba(var(--brand-peach-rgb), 0.28);
  border-color: rgba(var(--brand-peach-rgb), 0.55);
}
.lpm-empty,
.lpm-placeholder {
  font-size: var(--font-size-xs);
  opacity: 0.65;
  padding: 0.5rem 0.25rem;
}

.lpm-footer { display:flex; align-items:center; justify-content:flex-end; gap:0.55rem; padding-top:0.25rem; }
.lpm-footer button { font-size:var(--font-size-xs); font-weight:600; padding:0.5rem 0.8rem; border-radius:0.55rem; border:1px solid rgba(0,0,0,0.15); background:#fff; cursor:pointer; }
.lpm-footer .apply {
  background: var(--brand-peach);
  border-color: rgba(var(--brand-peach-rgb), 0.6);
  color: var(--brand-ink);
}
.lpm-footer .apply:hover {
  background: rgba(var(--brand-peach-rgb), 0.85);
}
.lpm-footer .clear:disabled {
  opacity: 0.35;
  cursor: default;
}
.lpm-footer .cancel:hover {
  background: rgba(0, 0, 0, 0.05);
}

@media (max-width: 860px) {
  .modal-content.location-picker-modal { width:min(620px,94%); }
  .lpm-body { grid-template-columns:1fr; min-height:0; }
  .lpm-towns-scroll { grid-template-columns:repeat(auto-fill,minmax(100px,1fr)); }
}

@media (max-width: 520px) {
  .modal-content.location-picker-modal { padding:0.75rem 0.7rem 0.75rem; }
  .lpm-header h3 { font-size:var(--font-size-xs); }
  .lpm-search input { font-size:var(--font-size-xxs,11px); padding:0.45rem 0.55rem 0.45rem 1.85rem; }
  .lpm-footer button { padding:0.45rem 0.6rem; }
}
