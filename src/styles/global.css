/* Reset default styles */
* {
  box-sizing: border-box;
  margin: 0;
  padding: 0;
}

/* 1. Color Palette from Style Guide */
:root {
  /* Legacy base (will be phased out) */
  --rouge-faso: #DE0000;
  --vert-foret: #009A00; /* legacy green (avoid using directly; use semantic tokens) */
  --jaune-soleil: #FCD20C;
  --arriere-plan: #F8F9FA;
  --texte-sombre: #333333;
  --blanc: #FFFFFF;
  --gris-neutre: #f1f1f1;
  /* New visual identity core palette */
  --brand-ink: #1A1A1A;          /* deep neutral for primary text & primary buttons */
  --brand-teal: #77ACB7;         /* accent / info */
  --brand-peach: #F8B097;        /* accent warm / highlight */
  --brand-green: #3FC495;        /* success / positive */
  --brand-ink-rgb: 26,26,26;
  --brand-teal-rgb: 119,172,183;
  --brand-peach-rgb: 248,176,151;
  --brand-green-rgb: 63,196,149;
  /* Option A (Heritage Bold) additions */
  --brand-heritage-red: #DE0000;
  --brand-heritage-red-rgb: 222,0,0;
  --brand-forest: #006020;
  --brand-forest-rgb: 0,96,32;
  --brand-gold: #E7B200;
  --brand-gold-rgb: 231,178,0;
  --brand-clay: #C65A35;
  --brand-clay-rgb: 198,90,53;
  --brand-mint: #48B58A;
  --brand-mint-rgb: 72,181,138;
  /* Semantic tokens */
  --color-bg-primary: var(--arriere-plan);
  --color-bg-surface: #FFFFFF;
  --color-bg-muted: #F1F3F5;
  --color-border: #E1E3E6;
  --color-text-primary: #222;
  --color-text-secondary: #555;
  --color-text-faint: #777;
  /* Map new palette to semantic tokens (phase 1) */
  --color-brand: var(--brand-heritage-red);
  --color-brand-rgb: var(--brand-heritage-red-rgb);
  --color-brand-emphasis: #B80000; /* deeper for active states */
  --color-brand-hover: #C70000;
  --color-accent: var(--brand-gold); /* secondary accent */
  --color-accent-soft: #FFF6E0;
  --color-accent-alt: var(--brand-mint);
  --color-success: var(--brand-mint);
  --color-danger: var(--brand-heritage-red);
  --color-danger-bg: #FFE5E5;
  --color-danger-border: #F5B3B3;
  --color-link: var(--color-brand);
  --color-link-hover: var(--color-brand-hover);
  --color-cta-bg: var(--color-brand);
  --color-cta-text: #FFFFFF;
  --color-focus-ring: var(--color-brand);
  --color-divider: #E4E7EB;
  --color-bg-elevated: #FFFFFF;
  --color-bg-alt: #FAFCFD;
  --color-bg-danger-soft: #FFF1F1;
  --color-bg-brand-soft: #FFF1F1;
  /* Skeleton semantic colors */
  --skeleton-base: #ECEDEF;
  --skeleton-highlight: #F5F6F7;
  --skeleton-dark-base: #2A2F33;
  --skeleton-dark-highlight: #3A4147;
  --color-text-strong: var(--brand-ink);
  --radius-sm: 4px;
  --radius-md: 8px;
  --radius-lg: 16px;
  --radius-pill: 999px;
  --shadow-xs: 0 1px 2px rgba(0,0,0,0.04);
  --shadow-sm: 0 2px 4px rgba(0,0,0,0.06);
  --shadow-md: 0 4px 10px -2px rgba(0,0,0,0.12);
  --shadow-lg: 0 8px 28px -6px rgba(0,0,0,0.18);
  --transition-base: .25s cubic-bezier(.4,.0,.2,1);
  /* Spacing scale */
  --space-1: 0.25rem;
  --space-2: 0.5rem;
  --space-3: 0.75rem;
  --space-4: 1rem;
  --space-5: 1.25rem;
  --space-6: 1.5rem;
  --space-8: 2rem;
  --space-10: 2.5rem;
  --space-12: 3rem;
  /* Fluid typography helpers */
  --fluid-sm: clamp(0.75rem, 0.7rem + 0.4vw, 0.9rem);
  --fluid-base: clamp(0.85rem, 0.8rem + 0.5vw, 1rem);
  --fluid-lg: clamp(1rem, 0.95rem + 0.8vw, 1.25rem);
  --fluid-xl: clamp(1.25rem, 1.1rem + 1.2vw, 1.75rem);
  /* Button sizing tokens */
  --btn-font-sm: var(--fs-xs);
  --btn-font-md: var(--fs-base);
  --btn-radius: 8px;
  --btn-pad-y-sm: 0.4rem;
  --btn-pad-x-sm: 0.85rem;
  --btn-pad-y-md: 0.55rem;
  --btn-pad-x-md: 1rem;
  --btn-gap: 0.5rem;
}

/* Dark mode disabled: data-theme="dark" override removed intentionally */
html { color-scheme: light; }

/* 2. Typography (Amazon-inspired scale & weights) */
/* Amazon uses a pragmatic system with modest size steps, strong contrast on headings, normal body ~14px-16px, emphasis via weight 700/800 sparingly. */
:root {
  /* Font families (system stack to avoid licensing issues) */
  /* If Whyte isn't available, fall back gracefully */
  --font-whyte: 'Whyte', 'Inter', 'Amazon Ember', 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Fira Sans', 'Droid Sans', 'Helvetica Neue', Arial, sans-serif;
  --font-sans: var(--font-whyte);

  /* Size scale (rem based for responsiveness). Base 16px */
  --fs-2xs: 0.6875rem; /* 11px */
  --fs-xs: 0.75rem;    /* 12px */
  --fs-sm: 0.8125rem;  /* 13px */
  --fs-base: 0.875rem; /* 14px typical Amazon body */
  --fs-md: 0.9375rem;  /* 15px subtle up */
  --fs-lg: 1rem;       /* 16px */
  --fs-xl: 1.125rem;   /* 18px */
  --fs-2xl: 1.25rem;   /* 20px */
  --fs-3xl: 1.5rem;    /* 24px */
  --fs-4xl: 1.75rem;   /* 28px */
  --fs-5xl: 2rem;      /* 32px */

  /* Font weights */
  --fw-regular: 400;
  --fw-medium: 500;
  --fw-semibold: 600;
  --fw-bold: 700;
  --fw-extrabold: 800;

  /* Line heights */
  --lh-tight: 1.15;
  --lh-snug: 1.25;
  --lh-normal: 1.4;
  --lh-relaxed: 1.55;

  /* Letter spacing adjustments for larger headings */
  --ls-tight: -0.015em;
}

html { font-size: 100%; }

body {
  font-family: var(--font-sans);
  font-size: var(--fs-base);
  line-height: var(--lh-normal);
  font-weight: var(--fw-regular);
  background-color: var(--color-bg-primary);
  color: var(--color-text-primary);
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
  transition: background-color var(--transition-base), color var(--transition-base);
}

/* Headings */
h1, .h1 { font-size: var(--fs-4xl); line-height: var(--lh-snug); font-weight: var(--fw-extrabold); letter-spacing: var(--ls-tight); }
h2, .h2 { font-size: var(--fs-3xl); line-height: var(--lh-snug); font-weight: var(--fw-bold); }
h3, .h3 { font-size: var(--fs-2xl); line-height: var(--lh-tight); font-weight: var(--fw-bold); }
h4, .h4 { font-size: var(--fs-xl); line-height: var(--lh-tight); font-weight: var(--fw-semibold); }
h5, .h5 { font-size: var(--fs-lg); line-height: var(--lh-normal); font-weight: var(--fw-semibold); }
h6, .h6 { font-size: var(--fs-md); line-height: var(--lh-normal); font-weight: var(--fw-medium); }

/* Body text utilities */
.text-sm { font-size: var(--fs-sm); }
.text-base { font-size: var(--fs-base); }
.text-md { font-size: var(--fs-md); }
.text-lg { font-size: var(--fs-lg); }
.text-xl { font-size: var(--fs-xl); }

/* Weight utilities */
.fw-regular { font-weight: var(--fw-regular); }
.fw-medium { font-weight: var(--fw-medium); }
.fw-semibold { font-weight: var(--fw-semibold); }
.fw-bold { font-weight: var(--fw-bold); }
.fw-extrabold { font-weight: var(--fw-extrabold); }

/* Legacy class mapping (retain compatibility with existing markup) */
.titre-principal { font-size: var(--fs-3xl); font-weight: var(--fw-extrabold); }
.sous-titre { font-size: var(--fs-2xl); font-weight: var(--fw-bold); }
.texte-corps { font-size: var(--fs-base); font-weight: var(--fw-regular); }
.texte-secondaire { font-size: var(--fs-sm); font-weight: var(--fw-regular); }
.legende { font-size: var(--fs-xs); font-weight: var(--fw-regular); }

/* Basic container for consistent spacing */
.container {
  width: 100%;
  max-width: 1200px;
  margin: 0 auto;
  padding: 0 1rem;
}

/* Focus ring utility */
.focus-ring:focus-visible { outline: 2px solid var(--color-focus-ring); outline-offset:2px; border-radius:4px; }

/* Generic focus outline for interactive elements (opt-in classless) */
:where(a,button,input,textarea,select)[data-focus="brand"]:focus-visible { outline:2px solid var(--color-focus-ring); outline-offset:2px; }

/* Unified skeleton utility (will be used by Skeleton component) */
.skel { position:relative; display:block; background:linear-gradient(90deg,var(--skeleton-base),var(--skeleton-highlight),var(--skeleton-base)); background-size:200% 100%; animation: skel-shimmer 1.25s linear infinite; border-radius:4px; color:transparent; -webkit-user-select:none; user-select:none; }
@media (prefers-reduced-motion: reduce) {
  .skel { animation:none; background:var(--skeleton-base); }
}
@keyframes skel-shimmer { 0% { background-position:200% 0; } 100% { background-position:-200% 0; } }

/* Smooth transitions for interactive elements */
a, button { transition: color var(--transition-base), background-color var(--transition-base), border-color var(--transition-base), box-shadow var(--transition-base); }

/* Visually hidden accessible text */
.visually-hidden { position:absolute !important; width:1px; height:1px; padding:0; margin:-1px; overflow:hidden; clip:rect(0 0 0 0); white-space:nowrap; border:0; }