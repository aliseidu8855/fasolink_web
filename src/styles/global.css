@import './tokens.css';

/* Reset default styles */
* { box-sizing: border-box; margin: 0; padding: 0; }

html { font-size: 100%; }

body {
  font-family: var(--font-sans);
  font-size: var(--fs-base);
  line-height: var(--lh-normal);
  font-weight: var(--fw-regular);
  background-color: var(--color-bg-primary);
  color: var(--color-text-primary);
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
  transition: background-color var(--transition-base), color var(--transition-base);
}

/* Headings */
h1, .h1 { font-size: var(--fs-4xl); line-height: var(--lh-snug); font-weight: var(--fw-extrabold); letter-spacing: var(--ls-tight); }
h2, .h2 { font-size: var(--fs-3xl); line-height: var(--lh-snug); font-weight: var(--fw-bold); }
h3, .h3 { font-size: var(--fs-2xl); line-height: var(--lh-tight); font-weight: var(--fw-bold); }
h4, .h4 { font-size: var(--fs-xl); line-height: var(--lh-tight); font-weight: var(--fw-semibold); }
h5, .h5 { font-size: var(--fs-lg); line-height: var(--lh-normal); font-weight: var(--fw-semibold); }
h6, .h6 { font-size: var(--fs-md); line-height: var(--lh-normal); font-weight: var(--fw-medium); }

/* Body text utilities */
.text-sm { font-size: var(--fs-sm); }
.text-base { font-size: var(--fs-base); }
.text-md { font-size: var(--fs-md); }
.text-lg { font-size: var(--fs-lg); }
.text-xl { font-size: var(--fs-xl); }

/* Weight utilities */
.fw-regular { font-weight: var(--fw-regular); }
.fw-medium { font-weight: var(--fw-medium); }
.fw-semibold { font-weight: var(--fw-semibold); }
.fw-bold { font-weight: var(--fw-bold); }
.fw-extrabold { font-weight: var(--fw-extrabold); }

/* Legacy class mapping (retain compatibility with existing markup) */
.titre-principal { font-size: var(--fs-3xl); font-weight: var(--fw-extrabold); }
.sous-titre { font-size: var(--fs-2xl); font-weight: var(--fw-bold); }
.texte-corps { font-size: var(--fs-base); font-weight: var(--fw-regular); }
.texte-secondaire { font-size: var(--fs-sm); font-weight: var(--fw-regular); }
.legende { font-size: var(--fs-xs); font-weight: var(--fw-regular); }

/* Basic container for consistent spacing */
.container {
  width: 100%;
  max-width: var(--container-max);
  margin: 0 auto;
  padding: 0 var(--container-pad-x);
}

/* Focus ring utility */
.focus-ring:focus-visible { outline: 2px solid var(--color-focus-ring); outline-offset:2px; border-radius:4px; }

/* Generic focus outline for interactive elements (opt-in classless) */
:where(a,button,input,textarea,select)[data-focus="brand"]:focus-visible { outline:2px solid var(--color-focus-ring); outline-offset:2px; }

/* Unified skeleton utility (will be used by Skeleton component) */
.skel { position:relative; display:block; background: var(--skeleton-base); border-radius:4px; color:transparent; -webkit-user-select:none; user-select:none; }
/* Page transition fade */
.page-enter { opacity: 0.01; }
.page-enter-active { opacity: 1; transition: opacity 160ms ease-in; }
.page-exit { opacity: 1; }
.page-exit-active { opacity: 0.01; transition: opacity 140ms ease-out; }

@media (prefers-reduced-motion: reduce) {
  .skel { animation:none; background:var(--skeleton-base); }
}
/* shimmer disabled for static design */
@keyframes skel-shimmer { 0% { opacity:1; } 100% { opacity:1; } }

/* Smooth transitions for interactive elements */
a, button { transition: color var(--transition-base), background-color var(--transition-base), border-color var(--transition-base), box-shadow var(--transition-base); }

/* Visually hidden accessible text */
.visually-hidden { position:absolute !important; width:1px; height:1px; padding:0; margin:-1px; overflow:hidden; clip:rect(0 0 0 0); white-space:nowrap; border:0; }

/* Mobile-first typography adjustments */
@media (max-width: 900px) {
  body { font-size: var(--fs-sm); }
  h1, .h1 { font-size: var(--fs-3xl); }
  h2, .h2 { font-size: var(--fs-2xl); }
  h3, .h3 { font-size: var(--fs-xl); }
  h4, .h4 { font-size: var(--fs-lg); }
  h5, .h5 { font-size: var(--fs-base); }
  h6, .h6 { font-size: var(--fs-sm); }
  .text-lg { font-size: var(--fs-base); }
  .text-md { font-size: var(--fs-sm); }
  .text-base { font-size: var(--fs-sm); }
}

@media (max-width: 420px) {
  body { font-size: var(--fs-xs); }
  h1, .h1 { font-size: var(--fs-2xl); }
  h2, .h2 { font-size: var(--fs-xl); }
  h3, .h3 { font-size: var(--fs-lg); }
  h4, .h4 { font-size: var(--fs-base); }
  h5, .h5 { font-size: var(--fs-sm); }
  h6, .h6 { font-size: var(--fs-xs); }
  .text-lg { font-size: var(--fs-md); }
  .text-md { font-size: var(--fs-base); }
  .text-base { font-size: var(--fs-sm); }
}